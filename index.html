<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="manifest" href="manifest.json">
    <title>Cozy Trading Sim</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="app-container"></div>
    <!-- Global Header -->
    <!-- Replace the entire <header id="globalHeader"> block with this -->
    <header class="header">
      <!-- REPLACE THE HEADER'S .header-left SECTION WITH THIS -->
      <div class="header-left">
        <!-- MAP ICON (conditionally shown) - Now styled like map markers -->
        <div id="backToMapIcon" class="header-map-marker" style="display: none">ğŸ—ºï¸</div>
        <!-- DIVIDER -->
        <div class="header-divider">|</div>
        <!-- LOCATION ICON (conditionally shown) - Now a simple, larger visual -->
        <div id="locationIcon" class="header-location-visual">ğŸ›ï¸</div>
        <!-- Location Name & Subtitle -->
        <div class="location-display">
          <div class="location-name" id="locationName">The Map</div>
          <div class="location-subtitle">Current Location</div>
        </div>
      </div>
      <div class="header-stats">
        <div class="stat-item"><span class="stat-label">Day</span> <span class="stat-value" id="dayCounter">1</span>/<span class="stat-value">7</span></div>
        <div class="stat-item"><span class="stat-label">Gold:</span> <span class="stat-value" id="goldCounter">100</span> ğŸª™</div>
        <div class="stat-item"><span class="stat-label">Inv</span> <span class="stat-value" id="inventoryCount">0/15</span></div>
      </div>
    </header>

    <!-- Map Scene -->
    <div id="mapScene" class="scene active">
      <!-- <h3 id="mapName">Generate Your World</h3> -->
      <button id="generateMapBtn">Generate Map</button>
      <button id="newMapBtn">âœ¨ New Map</button>
      <div id="mapGrid"></div>
      <div class="map-panels">
        <div class="news-panel">
          <h3>ğŸ“° News & Quests</h3>
          <div class="panel-content" id="newsPanelContent"></div>
        </div>
        <div class="inventory-panel">
          <h3>ğŸ’ Your Inventory</h3>
          <div class="panel-content" id="inventoryPanelContent"></div>
        </div>
      </div>
    </div>

    <!-- Trade Scene -->
    <div id="tradeScene" class="scene">
      <!-- âœ… REMOVED: <button id="backToMapBtn">â† Back to Map</button> -->
      <div id="tradeHeader">
        <div id="locationName"></div>
        <!-- âœ… This is where the location name goes now -->
        <div id="travelTime"></div>
      </div>
      <div id="tradeContent">
        <div id="questBanner" class="panel-banner"></div>
        <div id="marketInsight" class="panel-insight"></div>
        <div id="itemGrid"></div>
      </div>
    </div>

    <!-- Utils -->
    <script src="js/utils/seedrandom.js"></script>

    <!-- Core Game Systems -->
    <script src="js/classes/GameState.js"></script>
    <script src="js/classes/MarketLogic.js"></script>
    <script src="js/classes/MarketActions.js"></script>
    <script src="js/classes/GridSystem.js"></script>

    <!-- Map Gen Systems -->
    <script src="js/classes/WaveFunctionCollapse.js"></script>
    <script src="js/classes/MapNamer.js"></script>
    <!-- <script src="js/classes/ParchmentOverlay.js"></script> -->
    <script src="js/classes/MapManager.js"></script>
    <script src="js/classes/MapRenderer.js"></script>

    <!-- Quest System -->
    <script src="js/classes/QuestLogic.js"></script>

    <!-- Main App -->
    <script src="main.js"></script>
  </div>
  </body>
</html>
